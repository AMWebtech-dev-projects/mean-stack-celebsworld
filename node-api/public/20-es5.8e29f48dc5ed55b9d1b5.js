!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Oa48:function(r,n,s){"use strict";s.r(n),s.d(n,"RecoverPasswordModule",function(){return P});var a=s("SVse"),o=s("iInd"),i=s("Sf1D"),d=s("8Y7J"),l=s("EApP"),c=s("7g+E"),p=s("cUpR"),u=s("s7LF");function m(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",16),d["\u0275\u0275elementStart"](1,"p",17),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var r=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",r.expiredLinkErrorMsg," ")}}function f(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",32),d["\u0275\u0275text"](1," Your password should be minimum 8 characters with 1 number and 1 upper case and 1 special character. "),d["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"p",32),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.errorMessage," ")}}function h(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",18),d["\u0275\u0275elementStart"](1,"div",19),d["\u0275\u0275elementStart"](2,"div",20),d["\u0275\u0275elementStart"](3,"span",21),d["\u0275\u0275element"](4,"i",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"input",23),d["\u0275\u0275listener"]("ngModelChange",function(e){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().userData.password=e})("ngModelChange",function(){d["\u0275\u0275restoreView"](r);var e=d["\u0275\u0275nextContext"]();return e.checkStrongPassword(e.userData.password)})("keypress",function(e){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().AvoidSpace(e)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",24),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](r);var e=d["\u0275\u0275nextContext"]();return e.changeTextToPassword(e.passwordEncrypt.newPass,"newPass")}),d["\u0275\u0275elementStart"](7,"span",21),d["\u0275\u0275element"](8,"i",25),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](9,f,2,0,"p",26),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"div",27),d["\u0275\u0275elementStart"](11,"div",20),d["\u0275\u0275elementStart"](12,"span",21),d["\u0275\u0275element"](13,"i",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"input",28),d["\u0275\u0275listener"]("ngModelChange",function(e){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().userData.confirmPassword=e})("keypress",function(e){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().AvoidSpace(e)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",24),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](r);var e=d["\u0275\u0275nextContext"]();return e.changeTextToPassword(e.passwordEncrypt.confPass,"confPass")}),d["\u0275\u0275elementStart"](16,"span",21),d["\u0275\u0275element"](17,"i",25),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](18,w,2,1,"p",26),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",29),d["\u0275\u0275elementStart"](20,"button",30),d["\u0275\u0275text"](21,"Cancel"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"button",31),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().recoverPassword()}),d["\u0275\u0275text"](23,"Continue "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("type",n.passwordEncrypt.newPass)("ngModel",n.userData.password),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",!n.validPassword),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("type",n.passwordEncrypt.confPass)("ngModel",n.userData.confirmPassword),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",""!=n.userData.password&&""!=n.userData.confirmPassword&&n.userData.password!=n.userData.confirmPassword?n.errorMessage:"")}}var g,v,x,E=[{path:"",component:(g=function(){function r(t,n,s,a,o,i,d){e(this,r),this.toastr=t,this.spinner=n,this.usersService=s,this.router=a,this.globalService=o,this.route=i,this.title=d,this.userData={password:"",confirmPassword:""},this.errorMessage="Your New password and confirmation password do not match ! Please check your new passowrd. it should be same.",this.validPassword=!0,this.userInfo={},this.expiredLinkErrorMsg="",this.passwordEncrypt={newPass:"password",confPass:"password"}}var n,s,a;return n=r,(s=[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe(function(t){e.userId=t.userId,e.link=t.token,e.userId&&e.link&&e.getUsersData()}),this.title.setTitle("Recover Password | Celebs Worldwide")}},{key:"getUsersData",value:function(){var e=this;this.expiredLinkErrorMsg="",this.spinner.show(),this.usersService.getUserInfo({_id:this.userId,forgotLink:this.link}).subscribe(function(t){200===t.status?(e.userInfo=t.data,e.userInfo.forgotLink||(e.expiredLinkErrorMsg="Forgot Password Link has been expired. Please check link or again you can request for forgot password!"),e.spinner.hide()):(e.spinner.hide(),e.expiredLinkErrorMsg="Forgot Password Link has been expired. Please check link or again you can request for forgot password!")},function(t){e.spinner.hide(),e.toastr.error("There are some server error. Please check connection.","Error")})}},{key:"recoverPassword",value:function(){var e=this;if(!this.userData.password)return this.toastr.error("Please enter your password.","Error"),!1;if(!this.userData.confirmPassword)return this.toastr.error("Please enter your confirm password.","Error"),!1;if(""!==this.userData.password&&""!==this.userData.confirmPassword&&this.userData.password!==this.userData.confirmPassword)return!1;if(!this.validPassword)return!1;var t={_id:this.userId,forgotLink:"",forgotStatus:0,password:this.userData.password};this.spinner.show(),this.usersService.saveInfo(t).subscribe(function(t){e.spinner.hide(),200===t.status&&(e.toastr.success("Your password has been changed successfully. Please login to continue.","Success"),setTimeout(function(){e.router.navigate(["/login"])},1e3))},function(t){e.spinner.hide(),e.toastr.error("There are some server error. Please check connection.","Error")})}},{key:"AvoidSpace",value:function(e){if(32===(e?e.which:e.keyCode))return!1}},{key:"checkStrongPassword",value:function(e){this.validPassword=!e||this.globalService.strongPassword(e)}},{key:"changeTextToPassword",value:function(e,t){this.passwordEncrypt[t]="password"===e?"text":"password"}}])&&t(n.prototype,s),a&&t(n,a),r}(),g.\u0275fac=function(e){return new(e||g)(d["\u0275\u0275directiveInject"](l.b),d["\u0275\u0275directiveInject"](c.c),d["\u0275\u0275directiveInject"](i.i),d["\u0275\u0275directiveInject"](o.e),d["\u0275\u0275directiveInject"](i.e),d["\u0275\u0275directiveInject"](o.a),d["\u0275\u0275directiveInject"](p.d))},g.\u0275cmp=d["\u0275\u0275defineComponent"]({type:g,selectors:[["app-recover-password"]],decls:19,vars:2,consts:[[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"card-group"],[1,"card","p-4","mb-0","login-section","position-relative"],[1,"d-flex","custom-border"],[1,"secondary-bg"],[1,"primary-bg"],["id","forgotTitle text-left"],[1,"pl-4"],[1,"card-title","text-center"],[1,"text-center"],["class","text-center p-1",4,"ngIf"],["class","card-body ",4,"ngIf"],[1,"text-center","p-1"],["role","alert",1,"alert","alert-danger","text-left",2,"font-family","initial","line-height","20px"],[1,"card-body"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-lock"],["maxlength","15","id","newPass","placeholder","Enter new password",1,"form-control",3,"type","ngModel","ngModelChange","keypress"],[1,"input-group-prepend","cursor-pointer",3,"click"],[1,"fa","fa-eye"],["class","alert alert-danger text-left","role","alert",4,"ngIf"],[1,"input-group"],["maxlength","15","id","confPass","placeholder","Enter confirm password",1,"form-control",3,"type","ngModel","ngModelChange","keypress"],[1,"row","ml-0","mr-0","flex-nowrap","gray-border","pt-3"],["type","button","routerLink","/login",1,"btn","btn-default","px-4","mr-2","btn-square","btn-gray"],["type","button",1,"btn","btn-primary","px-4","mr-2","btn-square",3,"click"],["role","alert",1,"alert","alert-danger","text-left"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"main",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"div",4),d["\u0275\u0275elementStart"](5,"div",5),d["\u0275\u0275elementStart"](6,"div",6),d["\u0275\u0275elementStart"](7,"div",7),d["\u0275\u0275element"](8,"span",8),d["\u0275\u0275element"](9,"span",9),d["\u0275\u0275element"](10,"span",8),d["\u0275\u0275element"](11,"span",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"h1",10),d["\u0275\u0275elementStart"](13,"span",11),d["\u0275\u0275text"](14,"Recover Your Password "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",12),d["\u0275\u0275elementStart"](16,"div",13),d["\u0275\u0275template"](17,m,3,1,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](18,h,24,6,"div",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](17),d["\u0275\u0275property"]("ngIf",t.expiredLinkErrorMsg),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.expiredLinkErrorMsg))},directives:[a.NgIf,u.b,u.d,u.g,u.j,o.f],styles:[""]}),g),data:{title:"Recover Password",pathMatch:"full"}}],y=((v=function t(){e(this,t)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=d["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[o.i.forChild(E)],o.i]}),v),k=s("V07A"),P=((x=function t(){e(this,t)}).\u0275fac=function(e){return new(e||x)},x.\u0275mod=d["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[a.CommonModule,y,k.a,u.c,i.h]]}),x)}}])}();