(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9fPw":function(e,t,n){"use strict";n.r(t),n.d(t,"SignupModule",function(){return C});var r=n("SVse"),a=n("iInd"),l=n("rqDK"),i=n("AytR"),s=n("Sf1D"),o=n("Tbvk"),d=n("H56Y");class u{}var m=n("8Y7J"),c=n("EApP"),p=n("cUpR"),h=n("s7LF"),g=n("IDld");function f(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",28),m["\u0275\u0275text"](1," This Email Already Exists, please try another one. "),m["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",28),m["\u0275\u0275text"](1," Your email address is invalid. Please enter a valid address. "),m["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",28),m["\u0275\u0275text"](1," This Phone Number Already Exists, please try another one. "),m["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",28),m["\u0275\u0275text"](1," The password and confirmation password do not match ! "),m["\u0275\u0275elementEnd"]())}const S=function(e,t){return{"text-danger":e,"text-primary":t}},b=function(){return["/login"]},D=[{path:"",component:(()=>{class e{constructor(e,t,n,r,a,l,i,s){this.usersService=e,this.toastr=t,this.router=n,this.jwtService=r,this.alertService=a,this.globalService=l,this.canonicalService=i,this.title=s,this.currentUser=new d.a,this.userDetails=new u,this.requiredValidate={firstName:"",lastName:"",email:"",phoneNumber:"",password:"",confirm_password:""},this.alreadyEmailValidation=!1,this.alreadyphoneNumberValidation=!1,this.validEmail=!0}ngOnInit(){this.currentUser=this.jwtService.currentLoggedUserInfo,this.currentUser&&this.currentUser.role&&this.router.navigate(this.currentUser.role===i.a.userType.admin?["/dashboard"]:["/home"]),this.title.setTitle("Signup | Celebs Worldwide"),this.canonicalService.setCanonicalURL("signup")}doSignup(){const e=Object.keys(this.requiredValidate),t=this,n=e.filter(function(e){return!t.userDetails[e]});return!(this.alreadyEmailValidation||!this.validEmail||this.alreadyphoneNumberValidation)&&(this.userDetails.password!==this.userDetails.confirm_password||n.length?(this.alertService.error("*Please fill all mandatory fields!"),setTimeout(()=>{this.alertService.clear()},5e3),!1):void this.usersService.doSignup({email:this.userDetails.email,firstName:this.userDetails.firstName,lastName:this.userDetails.lastName,phoneNumber:this.userDetails.phoneNumber,matching_passwords:{password:this.userDetails.password,confirm_password:this.userDetails.confirm_password},terms:!0,role:"user"}).subscribe(e=>{200===e.status?(this.toastr.success(e.message,"Success"),this.router.navigate(["/login"])):this.alertService.error(e.message)}))}checkEmailAlreadyExists(e){if(!this.validEmail)return this.alreadyEmailValidation=!1,this.validEmail;this.alreadyEmailValidation=!1,this.usersService.emailAndNumberAlreadyExits({email:e,table:"users"}).subscribe(e=>{this.alreadyEmailValidation=!(200!==e.status||!e.data.length)},e=>{this.alreadyEmailValidation=!1})}checkNumberAlreadyExists(e){this.alreadyphoneNumberValidation=!1,this.usersService.emailAndNumberAlreadyExits({phoneNumber:e,table:"users"}).subscribe(e=>{200===e.status&&e.data.length&&(this.alreadyphoneNumberValidation=!0)})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](s.i),m["\u0275\u0275directiveInject"](c.b),m["\u0275\u0275directiveInject"](a.e),m["\u0275\u0275directiveInject"](s.f),m["\u0275\u0275directiveInject"](o.a),m["\u0275\u0275directiveInject"](s.e),m["\u0275\u0275directiveInject"](l.a),m["\u0275\u0275directiveInject"](p.d))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signup"]],decls:57,vars:36,consts:[[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-8"],[1,"card","position-relative"],[1,"d-flex","custom-border"],[1,"secondary-bg"],[1,"primary-bg"],[1,"card-body","p-4","text-center"],[1,"text-muted"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text",3,"ngClass"],[1,"icon-user"],["name","first","type","text","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange"],["name","lastName","type","text","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange"],["name","email","type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger validation-font-size  text-left","role","alert",4,"ngIf"],["_ngcontent-huu-c140","",1,"icon-phone"],["maxlength","10","name","phoneNumber","type","text","placeholder","Contact Number",1,"form-control",3,"ngModel","ngModelChange","keypress"],[1,"icon-lock"],["name","password","type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-4"],["name","confirm_password","type","password","placeholder","Repeat password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-block","btn-primary",3,"click"],[1,"text-center","mt-20"],["href","javascript:void(0)",1,"text-primary",3,"routerLink"],["role","alert",1,"alert","alert-danger","validation-font-size","text-left"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"main",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275elementStart"](4,"div",4),m["\u0275\u0275elementStart"](5,"div",5),m["\u0275\u0275elementStart"](6,"div",6),m["\u0275\u0275element"](7,"span",7),m["\u0275\u0275element"](8,"span",8),m["\u0275\u0275element"](9,"span",7),m["\u0275\u0275element"](10,"span",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",9),m["\u0275\u0275elementStart"](12,"h1"),m["\u0275\u0275text"](13,"Register"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"p",10),m["\u0275\u0275text"](15,"Create your account"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div",11),m["\u0275\u0275elementStart"](17,"div",12),m["\u0275\u0275elementStart"](18,"span",13),m["\u0275\u0275element"](19,"i",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"input",15),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.userDetails.firstName=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",11),m["\u0275\u0275elementStart"](22,"div",12),m["\u0275\u0275elementStart"](23,"span",13),m["\u0275\u0275element"](24,"i",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](25,"input",16),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.userDetails.lastName=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"div",11),m["\u0275\u0275elementStart"](27,"div",12),m["\u0275\u0275elementStart"](28,"span",13),m["\u0275\u0275text"](29,"@"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"input",17),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.userDetails.email=e})("ngModelChange",function(){return t.checkEmailAlreadyExists(t.userDetails.email)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](31,f,2,0,"p",18),m["\u0275\u0275template"](32,v,2,0,"p",18),m["\u0275\u0275elementStart"](33,"div",11),m["\u0275\u0275elementStart"](34,"div",12),m["\u0275\u0275elementStart"](35,"span",13),m["\u0275\u0275element"](36,"i",19),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](37,"input",20),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.userDetails.phoneNumber=e})("ngModelChange",function(){return t.checkNumberAlreadyExists(t.userDetails.phoneNumber)})("keypress",function(e){return e.charCode>=48&&e.charCode<58}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](38,y,2,0,"p",18),m["\u0275\u0275elementStart"](39,"div",11),m["\u0275\u0275elementStart"](40,"div",12),m["\u0275\u0275elementStart"](41,"span",13),m["\u0275\u0275element"](42,"i",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"input",22),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.userDetails.password=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](44,"div",23),m["\u0275\u0275elementStart"](45,"div",12),m["\u0275\u0275elementStart"](46,"span",13),m["\u0275\u0275element"](47,"i",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](48,"input",24),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.userDetails.confirm_password=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](49,E,2,0,"p",18),m["\u0275\u0275element"](50,"app-alert"),m["\u0275\u0275elementStart"](51,"button",25),m["\u0275\u0275listener"]("click",function(){return t.doSignup()}),m["\u0275\u0275text"](52,"Create Account"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](53,"br"),m["\u0275\u0275elementStart"](54,"div",26),m["\u0275\u0275elementStart"](55,"a",27),m["\u0275\u0275text"](56,"Already have an account!"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](18),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](17,S,!(null!=t.userDetails&&t.userDetails.firstName),null==t.userDetails?null:t.userDetails.firstName)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.userDetails.firstName),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](20,S,!(null!=t.userDetails&&t.userDetails.lastName),null==t.userDetails?null:t.userDetails.lastName)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.userDetails.lastName),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](23,S,!(null!=t.userDetails&&t.userDetails.email),null==t.userDetails?null:t.userDetails.email)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.userDetails.email),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.alreadyEmailValidation),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.validEmail),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](26,S,!(null!=t.userDetails&&t.userDetails.phoneNumber),null==t.userDetails?null:t.userDetails.phoneNumber)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.userDetails.phoneNumber),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.alreadyphoneNumberValidation),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](29,S,!(null!=t.userDetails&&t.userDetails.password),null==t.userDetails?null:t.userDetails.password)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.userDetails.password),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](32,S,!(null!=t.userDetails&&t.userDetails.confirm_password),null==t.userDetails?null:t.userDetails.confirm_password)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.userDetails.confirm_password),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.userDetails.password&&t.userDetails.confirm_password&&t.userDetails.password!=t.userDetails.confirm_password),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](35,b)))},directives:[r.NgClass,h.b,h.g,h.j,r.NgIf,h.d,g.a,a.h],styles:[".validation-font-size[_ngcontent-%COMP%]{font-size:14px!important;margin-top:-22px!important;padding:8px!important}"]}),e})(),pathMatch:"full"}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({imports:[[a.i.forChild(D)],a.i]}),e})();var N=n("V07A"),x=n("KtxW");let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({providers:[],imports:[[r.CommonModule,w,N.a,x.a,h.c,s.h]]}),e})()},rqDK:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("SVse"),a=n("AytR"),l=n("8Y7J");let i=(()=>{class e{constructor(e){this.dom=e,this.baseUrl=a.a.baseUrl}setCanonicalURL(e){const t=this.dom.getElementsByTagName("head")[0];let n=this.dom.querySelector("link[rel='canonical']")||null;null==n&&(n=this.dom.createElement("link"),t.appendChild(n)),n.setAttribute("rel","canonical"),n.setAttribute("href",this.baseUrl+e)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);